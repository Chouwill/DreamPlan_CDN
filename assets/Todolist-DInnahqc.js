import{i as l,ah as u,o as k,c as x,a as d,V as t,P as s,u as I,T as h,U as T,Q as N,W as U,az as C,aA as J}from"./@vue-7Ha3uCVu.js";import{d as D}from"./dayjs-Bof1u0Bp.js";import"./swiper-BFS8ErzP.js";import{J as O}from"./qalendar-DFK764HX.js";import{_ as j}from"./index-CH5E0Rfc.js";import"./pinia-C9NTtw3h.js";import"./element-plus-DtubumiQ.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-BHFm8KrR.js";import"./@element-plus-Ch8AbvLK.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B-WCBpf0.js";import"./vue-router-DuPkcz8v.js";import"./@fortawesome-CPWMIkfv.js";const w=f=>(C("data-v-0fd89964"),f=f(),J(),f),B={class:"wrap"},z=w(()=>d("h2",null,"設計計畫",-1)),A=w(()=>d("h2",null,"開始制定計畫",-1)),P={class:"todolist_event"},Q={class:"form_item"},W={class:"form-item_oth"},q={class:"calendar"},F=w(()=>d("h2",null,"付費會員獨享特殊挑戰和專屬訓練計畫，讓閱讀更具挑戰性。",-1)),G={__name:"Todolist",setup(f){l(null),l(!1),l(""),l(""),l(""),l([]),l(["https://picsum.photos/300/200/?random=1","https://picsum.photos/300/200/?random=2","https://picsum.photos/300/200/?random=3","https://picsum.photos/300/200/?random=4","https://picsum.photos/300/200/?random=5","https://picsum.photos/300/200/?random=6","https://picsum.photos/300/200/?random=7"]);const Y={id:"",title:"",date:[new Date,new Date],description:""},o=l(Y),r=l("create"),n=l(JSON.parse(localStorage.getItem("calendarEvents")||"[]")||[]),b=l({}),E=()=>{localStorage.setItem("calendarEvents",JSON.stringify(n.value))},S=()=>{const{id:i,title:e,date:a,description:m}=o.value,[c="",v=""]=a;console.log(c,v);const _={title:e,time:{start:D(c).isValid()?D(c).format("YYYY-MM-DD HH:mm"):"",end:D(v).isValid()?D(v).format("YYYY-MM-DD HH:mm"):""},color:"blue",isEditable:!0,id:i||Date.now().toString(),description:m};if(console.log(_),r.value==="create")n.value.push(_);else{const V=n.value.findIndex(g=>g.id===i);n.value.splice(V,1,_)}E(),o.value=Y,r.value="create"},y=i=>{r.value="edit";const e=n.value.find(c=>c.id===i);console.log("event: ",e);const{time:a,...m}=e;o.value={...m,date:a?[a.start,a.end]:[]}},H=()=>{r.value==="edit"&&(r.value="create"),o.value=Y},M=i=>{console.log(n.value.find(e=>e.id===i)),n.value=n.value.filter(e=>e.id!==i),E()};return(i,e)=>{const a=u("el-form-item"),m=u("el-input"),c=u("el-date-picker"),v=u("el-button"),_=u("el-form"),V=u("font-awesome-icon"),g=u("router-link");return k(),x("div",B,[z,d("main",null,[A,d("div",P,[t(_,{model:o.value,"label-width":120},{default:s(()=>[d("div",Q,[t(a,null,{default:s(()=>[h(T(r.value==="create"?"創建事件":"編輯事件"),1)]),_:1}),N(t(a,{label:"ID"},{default:s(()=>[t(m,{modelValue:o.value.id,"onUpdate:modelValue":e[0]||(e[0]=p=>o.value.id=p),disabled:""},null,8,["modelValue"])]),_:1},512),[[U,r.value==="edit"&&o.value.id]]),t(a,{label:"Event Title",class:"title"},{default:s(()=>[t(m,{modelValue:o.value.title,"onUpdate:modelValue":e[1]||(e[1]=p=>o.value.title=p)},null,8,["modelValue"])]),_:1}),t(a,{label:"Date"},{default:s(()=>[t(c,{modelValue:o.value.date,"onUpdate:modelValue":e[2]||(e[2]=p=>o.value.date=p),type:"datetimerange","start-placeholder":"Start date","end-placeholder":"End date",format:"YYYY-MM-DD HH:mm","date-format":"YYYY/MM/DD ddd","time-format":"HH:mm","value-format":"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1}),t(a,{label:"Description"},{default:s(()=>[t(m,{modelValue:o.value.description,"onUpdate:modelValue":e[3]||(e[3]=p=>o.value.description=p),rows:2,type:"textarea",resize:"none"},null,8,["modelValue"])]),_:1}),d("div",W,[t(v,{type:"primary",onClick:S},{default:s(()=>[h("送出")]),_:1}),t(v,{type:"primary",onClick:H},{default:s(()=>[h("取消")]),_:1})])])]),_:1},8,["model"]),d("div",q,[t(I(O),{"selected-date":new Date,events:n.value,config:b.value,onEditEvent:y,onDeleteEvent:M},null,8,["selected-date","events","config"])])]),F,t(g,{to:"/shopping"},{default:s(()=>[h(" 了解更多 "),t(V,{icon:"fa-solid fa-arrow-right"})]),_:1})])])}}},pe=j(G,[["__scopeId","data-v-0fd89964"]]);export{pe as default};
