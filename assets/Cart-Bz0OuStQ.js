import{u as k}from"./cart-BKb8QBQO.js";import{_ as v}from"./index-BkFYHqHg.js";import{w as $,ah as C,o as d,c as m,a as t,U as u,V as _,u as n,P as S,T as I,F as x,i as g,k as q,a8 as w,S as N,O as V,az as A,aA as B}from"./@vue-7Ha3uCVu.js";import"./pinia-C9NTtw3h.js";import"./element-plus-DtubumiQ.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-BHFm8KrR.js";import"./@element-plus-Ch8AbvLK.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Bof1u0Bp.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B-WCBpf0.js";import"./vue-router-DuPkcz8v.js";import"./swiper-BFS8ErzP.js";import"./@fortawesome-CPWMIkfv.js";const O={class:"product-info"},U={class:"flex-box"},K=["src"],P={class:"product-price"},j={class:"quantity-control"},D={class:"flex-box"},F={class:"delebox"},M={class:"addbox"},T={class:"product-price-total"},z={style:{"text-align":"center"}},E={class:"product-delete"},G={__name:"CartItem",props:{product:{id:String,imageUrl:String,title:String,description:String,origin_price:Number,price:Number,quantity:Number}},emits:["checkCart"],setup(o,{expose:c,emit:l}){const a=k(),r=o,i=l,e=()=>{console.log("checkProduct 被調用"),!r.product||Object.keys(r.product).length===0?(i("checkCart","購物車為空"),alert("購物車為空")):(i("checkCart","請繼續結帳"),alert("請繼續結帳"))};return $(()=>r.product,(h,s)=>{console.log("props.product 變化了",h,s),e()},{deep:!0}),c({checkProduct:e}),(h,s)=>{const f=C("font-awesome-icon"),y=C("el-button");return d(),m(x,null,[t("tr",null,[t("td",O,[t("div",U,[t("img",{src:o.product.imageUrl,alt:"",width:"50"},null,8,K),t("h4",null,u(o.product.title),1)])]),t("td",P,u(o.product.price),1),t("td",j,[t("div",D,[t("div",F,[_(f,{icon:"fa-solid fa-minus",onClick:s[0]||(s[0]=b=>n(a).minus(o.product.id))})]),t("h3",null,u(o.product.quantity),1),t("div",M,[_(f,{icon:"fa-solid fa-plus",onClick:s[1]||(s[1]=b=>n(a).add(o.product.id))})])])]),t("td",T,[t("h4",z,u(o.product.price*o.product.quantity),1)]),t("td",E,[_(y,{type:"danger",onClick:s[2]||(s[2]=b=>n(a).remove(o.product.id))},{default:S(()=>[I("刪除")]),_:1})])]),t("div",{class:"send_box"},[t("button",{onClick:e},"結帳送出")])],64)}}},L=v(G,[["__scopeId","data-v-aec5805d"]]),p=o=>(A("data-v-eea38a1b"),o=o(),B(),o),Q={class:"cartopen_box"},H=p(()=>t("h2",null,"購物車",-1)),J=p(()=>t("thead",null,[t("tr",null,[t("td",{class:"product-name"},"商品名稱"),t("td",{class:"product-price"},"價格"),t("td",{class:"quantity"},"數量"),t("td",{class:"quantity"},"小計"),t("td",{class:"othMethod"})])],-1)),R=p(()=>t("td",{colspan:"4"},null,-1)),W={class:"checkout"},X=p(()=>t("tr",null,[t("td",null,"運費"),t("td",null,"$60")],-1)),Y=p(()=>t("td",null,"總計",-1)),Z={__name:"Cart",setup(o){const c=k(),l=g([]);q(()=>{l.value=Object.values(l.value)});const a=r=>{console.log(r),alert(r)};return g([{id:"-O182suwbu2sCGcyoK7-",imageUrl:"https://thumbsnap.com/i/qh5QKKgx.png",title:"不再數錢度日",description:"測試的描述",origin_price:350,price:350,quantity:1}]),(r,i)=>(d(),m("div",Q,[t("main",null,[H,t("table",null,[J,t("tbody",null,[(d(!0),m(x,null,w(n(c).shoppingCart,e=>(d(),V(L,{key:e.id,product:e,onCheckCart:a,ref_for:!0,ref_key:"cartItems",ref:l},null,8,["product"]))),128))]),t("tfoot",null,[t("tr",null,[R,t("td",null,[n(c).shoppingCart.length>0?(d(),m("button",{key:0,onClick:i[0]||(i[0]=(...e)=>n(c).removeAll&&n(c).removeAll(...e)),class:"AllDelebtn"}," 一鍵刪除 ")):N("",!0)])])])]),t("table",W,[t("tbody",null,[X,t("tr",null,[Y,t("td",null,"$"+u(n(c).total),1)])])])])]))}},Ct=v(Z,[["__scopeId","data-v-eea38a1b"]]);export{Ct as default};
